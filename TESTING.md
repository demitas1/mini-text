# Phase 3 動作確認手順

## 前提条件

- xdotool, xclipがインストール済み
- X11デスクトップ環境で実行

## 実行方法

```bash
# 仮想環境をアクティベート
source venv/bin/activate

# アプリケーションを起動
python main.py
```

## 確認項目

### ✓ 自動確認済み
- [x] 構文エラーなし
- [x] 全モジュールのインポート成功
- [x] PyQt6がインストール済み

### ⏳ 人間による確認待ち

#### 基本動作
- [ ] アプリケーションが起動する
- [ ] ウィンドウが常に最前面に表示される
- [ ] ウィンドウサイズがデフォルト800x600である

#### ウィンドウリスト
- [ ] 起動時に自動的にウィンドウリストが表示される
- [ ] リフレッシュボタンでウィンドウリストが更新される
- [ ] ウィンドウリストに "ID: ウィンドウ名" の形式で表示される

#### テキスト送信機能
1. [ ] ウィンドウリストから送信先を選択
2. [ ] テキストボックスに任意のテキストを入力
3. [ ] 送信ボタンをクリック
4. [ ] 選択したウィンドウにテキストが送信される
5. [ ] ステータスバーに「テキストを送信しました」と表示される

#### テキストコピー機能
1. [ ] コピーボタンをクリック
2. [ ] ステータスバーに「X秒後にコピーを開始します...」と表示される
3. [ ] 指定時間内にコピー元のテキストボックスをクリック
4. [ ] テキストが自動的にコピーされる
5. [ ] mini-textのテキストボックスにコピーしたテキストが表示される
6. [ ] ステータスバーに「テキストをコピーしました」と表示される

#### エラーハンドリング
- [ ] ウィンドウ未選択で送信: 「ウィンドウを選択してください」エラー表示
- [ ] テキスト未入力で送信: 「送信するテキストを入力してください」エラー表示
- [ ] エラーメッセージがステータスバーに赤文字で表示される

#### メニュー
- [ ] ファイルメニューが表示される
- [ ] 設定メニューをクリック: 「Phase 4で実装されます」ダイアログ表示
- [ ] 終了メニューでアプリケーションが終了する

#### ウィンドウサイズ保存
1. [ ] ウィンドウサイズを変更
2. [ ] アプリケーションを終了
3. [ ] 再度起動
4. [ ] 前回のウィンドウサイズが復元される

#### Qt Designer (オプション)
- [ ] Qt6 Designerで`mini_text/ui/resources/main_window.ui`を開ける
- [ ] UIを編集して保存できる
- [ ] 編集後のUIで正常に起動する

## 既知の制限事項

- 設定機能はPhase 4で実装予定
- 設定ダイアログは未実装

## トラブルシューティング

### アプリケーションが起動しない

```bash
# 依存関係を確認
source venv/bin/activate
python -c "from mini_text.utils.dependency_checker import DependencyChecker; print(DependencyChecker.check_dependencies())"
```

### UIファイルが見つからない

```bash
# UIファイルの存在を確認
ls -la mini_text/ui/resources/main_window.ui
```

### モジュールインポートエラー

```bash
# Pythonパスを確認
source venv/bin/activate
python -c "import sys; print('\n'.join(sys.path))"
```
